{"version":3,"file":"index-411ce57e.js","sources":["../../../../plugin-media/src/Audio.svelte","../../../../plugin-media/src/Video.svelte","../../../../plugin-media/src/index.js"],"sourcesContent":["<script>\n  export let src\n  export let attrs\n</script>\n\n<audio {...attrs} {src}></audio>\n","<script>\n  export let src\n  export let poster\n  export let width\n  export let height\n  export let attrs\n</script>\n\n<style>\n  video {\n    max-width: 100%;\n  }\n</style>\n\n<video {...attrs} {src} {poster} {width} {height}></video>\n","import Audio from './Audio.svelte';\nimport Video from './Video.svelte';\nimport AudioIcon from './AudioIcon.svelte';\nimport VideoIcon from './VideoIcon.svelte';\nfunction getClickHandler(type) {\n    return cm => {\n        const pos = cm.getCursor('from');\n        cm.replaceRange(`<${type} src=\"\"></${type}>`, pos);\n        cm.setCursor({ line: pos.line, ch: pos.ch + 12 });\n        cm.focus();\n    };\n}\nexport default function media({ video: { defaultAttrs: videoAttrs = { controls: true }, onClickIcon: onClickVideo = getClickHandler('video'), } = {}, audio: { defaultAttrs: audioAttrs = { controls: true }, onClickIcon: onClickAudio = getClickHandler('audio'), } = {}, } = {}) {\n    return {\n        renderNode(node) {\n            if (node.type !== 'element')\n                return;\n            switch (node.tagName) {\n                case 'video': {\n                    const { src, poster, width, height } = node.properties;\n                    return {\n                        component: Video,\n                        props: { src, poster, width, height, attrs: videoAttrs },\n                    };\n                }\n                case 'audio': {\n                    return {\n                        component: Audio,\n                        props: {\n                            src: node.properties.src,\n                            attrs: audioAttrs,\n                        },\n                    };\n                }\n            }\n        },\n        toolbarItems: [\n            {\n                component: AudioIcon,\n                onClick: onClickAudio,\n                tooltip: 'audio',\n            },\n            {\n                component: VideoIcon,\n                onClick: onClickVideo,\n                tooltip: 'video',\n            },\n        ],\n    };\n}\n"],"names":["ctx","src","attrs","poster","width","height","getClickHandler","type","cm","pos","getCursor","replaceRange","setCursor","line","ch","focus","video","defaultAttrs","videoAttrs","controls","onClickIcon","onClickVideo","audio","audioAttrs","onClickAudio","[object Object]","node","tagName","properties","component","Video","props","Audio","toolbarItems","AudioIcon","onClick","tooltip","VideoIcon"],"mappings":"6IAKWA,sIAAAA,0EAJEC,YACAC,mLCYFF,wMAAAA,0JAbEC,aACAE,YACAC,aACAC,YACAH,6xHCDb,SAASI,EAAgBC,GACrB,OAAOC,IACH,MAAMC,EAAMD,EAAGE,UAAU,QACzBF,EAAGG,aAAa,IAAIJ,cAAiBA,KAASE,GAC9CD,EAAGI,UAAU,CAAEC,KAAMJ,EAAII,KAAMC,GAAIL,EAAIK,GAAK,KAC5CN,EAAGO,wBAGX,UAAgCC,OAASC,aAAcC,EAAa,CAAEC,UAAU,GAAQC,YAAaC,EAAef,EAAgB,UAAc,GAAIgB,OAASL,aAAcM,EAAa,CAAEJ,UAAU,GAAQC,YAAaI,EAAelB,EAAgB,UAAc,IAAQ,IAC5Q,MAAO,CACHmB,WAAWC,GACP,GAAkB,YAAdA,EAAKnB,KAET,OAAQmB,EAAKC,SACT,IAAK,QAAS,CACV,MAAM1B,IAAEA,EAAGE,OAAEA,EAAMC,MAAEA,EAAKC,OAAEA,GAAWqB,EAAKE,WAC5C,MAAO,CACHC,UAAWC,EACXC,MAAO,CAAE9B,IAAAA,EAAKE,OAAAA,EAAQC,MAAAA,EAAOC,OAAAA,EAAQH,MAAOgB,IAGpD,IAAK,QACD,MAAO,CACHW,UAAWG,EACXD,MAAO,CACH9B,IAAKyB,EAAKE,WAAW3B,IACrBC,MAAOqB,MAM3BU,aAAc,CACV,CACIJ,UAAWK,EACXC,QAASX,EACTY,QAAS,SAEb,CACIP,UAAWQ,EACXF,QAASd,EACTe,QAAS"}